{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Cotan\\\\PROJET REACT\\\\mern\\\\frontend\\\\src\\\\components\\\\EditExercise.js\";\nimport React, { Component } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport DatePicker from 'react-datepicker';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport withRouter from './withRouter';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class EditExercises extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeDescription = this.onChangeDescription.bind(this);\n    this.onChangeUsername = this.onChangeUsername.bind(this);\n    this.onChangeDuration = this.onChangeDuration.bind(this);\n    this.onChangeDate = this.onChangeDate.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.state = {\n      username: \"\",\n      description: \"\",\n      duration: 0,\n      date: new Date(),\n      users: []\n    };\n  }\n  componentDidMount() {\n    console.log(this.props.params.id);\n    axios.get(`http://localhost:5000/exercises/${this.props.match.params.id}`).then(response => {\n      this.setState({\n        username: response.data.username,\n        description: response.data.description,\n        duration: response.data.duration,\n        date: new Date(response.data.date)\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n    axios.get(\"http://localhost:5000/users/\").then(response => {\n      if (response.data.length > 0) {\n        this.setState({\n          users: response.data.map(user => user.username)\n        });\n      }\n    });\n  }\n  onChangeUsername(e) {\n    this.setState({\n      username: e.target.value\n    });\n  }\n  onChangeDescription(e) {\n    this.setState({\n      description: e.target.value\n    });\n  }\n  onChangeDuration(e) {\n    this.setState({\n      duration: e.target.value\n    });\n  }\n  onChangeDate(date) {\n    this.setState({\n      date: date\n    });\n  }\n  onSubmit(e) {\n    e.preventDefault();\n    const exercise = {\n      username: this.state.username,\n      description: this.state.description,\n      duration: this.state.duration,\n      date: this.state.date\n    };\n    console.log(exercise);\n    axios.post(\"http://localhost:5000/exercises/update\" + this.props.match.params.id, exercise).then(res => console.log(res.data));\n    window.location = \"/\";\n  }\n  render() {\n    console.log(this.props);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Modifier l'exercice\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.onSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Nom d'utilisateur\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            ref: \"userInput\",\n            required: true,\n            className: \"form-control\",\n            value: this.state.username,\n            onChange: this.onChangeUsername,\n            children: this.state.users.map(user => {\n              return /*#__PURE__*/_jsxDEV(\"option\", {\n                children: user\n              }, user, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 36\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            required: true,\n            className: \"form-control\",\n            value: this.state.description,\n            onChange: this.onChangeDescription\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Dur\\xE9e en minutes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            required: true,\n            className: \"form-control\",\n            value: this.state.duration,\n            onChange: this.onChangeDuration\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Date :\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(DatePicker, {\n              selected: this.state.date,\n              onChange: this.onChangeDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary\",\n            children: \"Modifier\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this);\n  }\n}","map":{"version":3,"names":["React","Component","useParams","axios","DatePicker","withRouter","EditExercises","constructor","props","onChangeDescription","bind","onChangeUsername","onChangeDuration","onChangeDate","onSubmit","state","username","description","duration","date","Date","users","componentDidMount","console","log","params","id","get","match","then","response","setState","data","catch","error","length","map","user","e","target","value","preventDefault","exercise","post","res","window","location","render"],"sources":["C:/Users/Cotan/PROJET REACT/mern/frontend/src/components/EditExercise.js"],"sourcesContent":["import React, { Component} from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport DatePicker from 'react-datepicker';\r\nimport \"react-datepicker/dist/react-datepicker.css\"\r\nimport withRouter from './withRouter';\r\n\r\n\r\nexport default class EditExercises extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.onChangeDescription = this.onChangeDescription.bind(this)\r\n        this.onChangeUsername = this.onChangeUsername.bind(this)\r\n        this.onChangeDuration = this.onChangeDuration.bind(this)\r\n        this.onChangeDate = this.onChangeDate.bind(this)\r\n        this.onSubmit = this.onSubmit.bind(this)\r\n\r\n\r\n        this.state = {\r\n            username: \"\",\r\n            description: \"\",\r\n            duration: 0,\r\n            date: new Date(),\r\n            users: []\r\n        }\r\n        \r\n    }\r\n    componentDidMount(){\r\n\r\n      \r\n      console.log(this.props.params.id)\r\n      axios.get(`http://localhost:5000/exercises/${this.props.match.params.id}`)\r\n           .then(response => {\r\n            this.setState({\r\n                username: response.data.username,\r\n                description: response.data.description,\r\n                duration: response.data.duration,\r\n                date: new Date(response.data.date)\r\n            })\r\n           })\r\n           .catch(function(error) {\r\n            console.log(error);\r\n           })\r\n\r\n        axios.get(\"http://localhost:5000/users/\")\r\n             .then(response => {\r\n                if(response.data.length > 0) {\r\n                    this.setState({\r\n                        users: response.data.map(user => user.username)\r\n                    })\r\n                }\r\n             })\r\n    }\r\n\r\n    onChangeUsername(e){\r\n        this.setState({\r\n            username: e.target.value\r\n        })\r\n    }\r\n    onChangeDescription(e){\r\n        this.setState({\r\n            description: e.target.value\r\n        })\r\n    }\r\n    onChangeDuration(e){\r\n        this.setState({\r\n            duration: e.target.value\r\n        })\r\n    }\r\n    onChangeDate(date){\r\n        this.setState({\r\n            date: date\r\n        })\r\n    }\r\n\r\n    onSubmit(e){\r\n        e.preventDefault()\r\n\r\n        const exercise = {\r\n            username: this.state.username,\r\n            description: this.state.description,\r\n            duration: this.state.duration,\r\n            date: this.state.date\r\n        }\r\n\r\n        console.log(exercise)\r\n\r\n        axios.post(\"http://localhost:5000/exercises/update\"+this.props.match.params.id , exercise)\r\n        .then(res => console.log(res.data))\r\n\r\n        window.location = \"/\"\r\n    }\r\n  render() {\r\n    console.log(this.props)\r\n    return (\r\n      <div>\r\n        <h1>Modifier l'exercice</h1>\r\n        <form onSubmit={this.onSubmit}>\r\n            <div className=\"form-group\">\r\n                <label>Nom d'utilisateur</label>\r\n                <select \r\n                    ref=\"userInput\" \r\n                    required \r\n                    className=\"form-control\" \r\n                    value={this.state.username} \r\n                    onChange={this.onChangeUsername}>\r\n                    {\r\n                        this.state.users.map(user => {\r\n                            return <option key={user}>{user}</option>\r\n                        })\r\n                    }\r\n\r\n\r\n                </select>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label>Description</label>\r\n                <input \r\n                    type=\"text\" \r\n                    required\r\n                    className='form-control'\r\n                    value={this.state.description}\r\n                    onChange={this.onChangeDescription}\r\n                />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label>Durée en minutes</label>\r\n                <input \r\n                 type=\"number\"\r\n                 required\r\n                 className='form-control'\r\n                 value={this.state.duration}\r\n                 onChange={this.onChangeDuration}\r\n                 />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label>Date :</label>\r\n                <div>\r\n                    <DatePicker\r\n                        selected={this.state.date}\r\n                        onChange={this.onChangeDate}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <button type=\"submit\" className=\"btn btn-primary\">Modifier</button>\r\n            </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}